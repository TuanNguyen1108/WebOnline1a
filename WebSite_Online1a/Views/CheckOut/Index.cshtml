@{
    ViewData["Title"] = "Index Thanh toán";
    Layout = "~/Views/Shared/_LayoutThanhToan.cshtml";
    List<Price> Image = ViewBag.Image;
    List<CartItem> Carts = ViewBag.GioHang;
}
@model WebSite_Online1a.Models.MuaHangVM.MuaHangVM

<div class="page-inner">
    <form asp-controller="CheckOut" asp-action="Index" method="post" class="cart ajaxcart cartpage">
        <input hidden asp-for="CustomerId" />
        <div class="page-section">
            <div class="row">
                <div class="col-lg-4">
                    <div class="header-cart">
                        <div class="title-block-page">
                            <h5 class="title_cart">
                                <span>Đơn Hàng (@Carts.Sum(p=>p.SoLuong) Sản Phẩm)</span>
                            </h5>
                        </div>
                    </div>
                    <hr class="my-10">
                    <style>
                        .product {
                            display: flex;
                            align-items: center;
                            margin-bottom: 1px;
                        }

                            .product img {
                                width: 80px;
                                height: auto;
                                margin-right: 1px;
                            }
                    </style>
                    @if (Carts.Count() > 0)
                    {
                        foreach (var item in Carts)
                        {
                            <div class="container">
                                <div class="product">
                                    <img width="60" height="60" src="~/IMAGE/Product_Details/@item.HinhAnh">
                                    <div class="product-info">
                                        <h6>@item.TenHH</h6>
                                        <a>@item.Color - @item.SoLuong - @item.ThanhTien.ToString("#,##,00")đ</a>
                                    </div>
                                </div>
                            </div>
                        }
                    }
                    <hr class="my-10">
                    <div class="text-right cart__totle">
                        Tổng Tiền:
                        <a class="text-info">@Carts.Sum(p=>p.ThanhTien).ToString("#,##,00")đ</a>
                    </div>
                    <div class="text-right cart__totle">
                        <button asp-controller="CheckOut" asp-action="CheckOut" class="btn btn-primary mt-3">Đặt Hàng</button>
                    </div>
                </div>

                <div class="col-lg-8">
                    <div class="card card-fluid">
                        <h6 class="card-header"> Thông Tin Đặt Hàng </h6>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="col-md-6 mb-3">
                                    <label for="input01">Họ Và Tên</label>
                                    <input type="text" class="form-control" asp-for="FullName" required="">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="input02">Số Điện Thoại</label>
                                    <input type="text" class="form-control" asp-for="Phone" required="">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="input03">Email</label>
                                <input type="email" class="form-control" asp-for="Email" required="">
                            </div>
                            <div class="form-group">
                                <label for="input04">Địa Chỉ</label>
                                <input type="text" class="form-control" asp-for="Address" required="">
                            </div>
                            <div class="form-group">
                                <label for="input05">Ghi Chú</label>
                                <input type="text" asp-for="Note" class="form-control">
                            </div>
                            <hr>
                            <div class="container">
                                <h6>Phương Thức Thanh Toán</h6>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="paymentMethod" id="cod" value="cod">
                                    <label class="form-check-label" for="cod">
                                        Thanh Toán khi nhận hàng
                                    </label>
                                </div>
                            </div>
                            <input name="__RequestVerificationToken" type="hidden" value="CfDJ8EIBQboLoiROqF_WSIOi69ohttyyXhS24N9mJToO8-cxgYmqlbcvossRdVL-VW98mvqMNSIxBz9EbYBvZLJXgM_WKs5_A9YecGCzd4cPjm3aMMli98JNmYdV4uPRI1KI5P8B-XKbo8RBWLzKjKCfT6c">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

